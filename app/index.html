<!DOCTYPE html>
<html>
<head>
  <title>MSC_Routine_Generator</title>
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <!--nav-->
    <!--div  class="nav-wrapper"-->
            <!--a class="brand-logo center"-->
<!--                     <h5 align='center' 'style:color=black'>TRIBHUVAN UNIVERSITY</h5>
                    <h5 align='center'>INSTITUTE OF ENGINEERING, PULCHOWK</h5>
                    <h6 align='center'>Department of Electronics and Computer Engineering</h6>
                    <h6 align='center'><b>M.Sc. Computer Systems and Knowledge Engineering</b></h6>
                    <h6 align='center' ><b id='dbName'>Database_enabled: </b></h6> -->

            <!--/a-->

    <!--/div-->
  <!--/nav-->
<div>
    <div align="center">
       TRIBHUVAN UNIVERSITY<br>INSTITUTE OF ENGINEERING , PULCHOWK CAMPUS<br>Department of Computer and Electronics Engineering<br>
       <b>M.sc. Program</b>
    </div>
<div align="center" class="batch">Class Routine of
    <select id="select_batch">
            <option>2075</option>
            <option>2074</option>
            <option>2073</option>
            <option>2072</option>
            <option>2071</option>
            <option>2070</option>
    </select>
    batch
</div>

<div class="mains">
    <b>
    <div class="level_masters" align="center">Level : Masters</div>
    <div class="program">Program
        <select id="select_program">
            <option></option>
            <option>1</option>
            <option>2</option>

        </select>
    </div>
    <div class="year">Year
        <select id="select_year">
            <option></option>
            <option>1</option>
            <option>2</option>

        </select>

    </div>
    <div class="part">Part
        <select id="select_part">
            <option></option>
            <option>1</option>
            <option>2</option>

        </select>
    </div>
    <div class="effective_date">Effective from
        <input type="date" id="select_date">

    </div>

    </b>
    </div>
    <div class="second_info">
        <b>

    <div class="time">Time
        <input type="time" id="select_time">
    </div>
    <div class="_interval">Interval of each period
        <select id="select_interval">
            <option>30</option>
            <option>45</option>
            <option>50</option>
        </select>
        mins
    </div>
    <div class="_periods">No.of periods
        <select id="select_periods">
            <option>4</option>
            <option>5</option>
        </select>
    </div>
    </b>
    </div>
    </div>
	
	
	
	
	
  <input type="file" id="dirOpen" webkitdirectory />
  <ul></ul>

    <ul id="database">
    </ul>
    <script>
  	  const electron = require('electron');
      const {ipcRenderer} = electron;
	var batch = document.getElementById("select_batch").value;
      var program=document.getElementById("select_program").value;
      var year=document.getElementById("select_year").value;
      var part=document.getElementById("select_part").value;
      var interval=document.getElementById("select_interval").value;
      var periods=document.getElementById("select_periods").value;
      var time=document.getElementById("select_time").value;
      var date=document.getElementById("select_date").value;
	  var isfirst=0;
    var first=0;
    var frst=0;
    var arr=["sub1","sub2","sub3","sub4","sub5","sub6"];
        var days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"];
        document.write('<table border=1 class="top_table">');
        
        document.write('<tr>');
        for(var k=0;k<5;k++){
           if (isfirst==0){
            document.write('<th> '+"Day/time"+'</th>');
            isfirst=1;  
           }
           else{
            document.write('<th> </th>');
           }
                   
        }

        document.write('</tr>');
        
        
       
        for(var i=0;i<days.length;i++){
           // document.write('<tr><td>'+days[i]+'</td></tr>');
           document.write('<tr>');
           for(var j=0;j<3;j++){
               if(first==0){
               document.write('<td>'+days[i]+'</td>');
               first=1;
               }
               else{
                document.write('<td colspan=2 width="50%">'); 
                   
                       
                            document.write('<table border=1 width="320" class="tabb">');
                                 for(var l=0;l<2;l++){
                                     if (frst==0){
                        document.write('<tr>');
                        document.write('<td>');
                            document.write('<select style="width: 100%" class="select_subject"  >');
                                document.write('<option>'+""+'</option>'); 
                                document.write('<option>'+"sub1"+'</option>');
                                document.write('<option>'+"sub2"+'</option>');
                                document.write('<option>'+"sub3"+'</option>');
                                document.write('<option>'+"sub4"+'</option>');
                                document.write('<option>'+"sub5"+'</option>');
                                document.write('<option>'+"sub6"+'</option>');
                                document.write('<option>'+"sub7"+'</option>');
                                document.write('<option>'+"sub8"+'</option>');
                            
                           
        

                            
                            document.write('</select>');
                            document.write('</td>');
                             document.write('</tr>');
                                frst=1;
                                     }
                                     else{
                                        document.write('<tr>');
                        document.write('<td width="50%">');
                            document.write('<select style="width: 100%" id="select_teacher">');
                                document.write('<option>'+""+'</option>');  
                               document.write('<option>'+"teacher1"+'</option>');
                               document.write('<option>'+"teacher2"+'</option>');
                               document.write('<option>'+"teacher3"+'</option>');
                               document.write('<option>'+"teacher4"+'</option>');
                               document.write('<option>'+"teacher5"+'</option>');
                               document.write('<option>'+"teacher6"+'</option>');
                               document.write('<option>'+"teacher7"+'</option>');
                               document.write('<option>'+"teacher8"+'</option>');
                           
                          
       

                           
                           document.write('</select>');
                      document.write('</td>')
                        document.write('</tr>');
                        frst=0;

                                     }
                                     
                    }

                            document.write('</table>');
                document.write('</td>');
               }
               
           }
           first=0;
    document.write('</tr>');
           
        }
        
        document.write('</table>');
      
    
//         var select=document.getElementById("select_subject");

        
//         for(var i=0;i<arr.length;i++){
//             var option=document.createElement("OPTION"),
//             txt=document.createTextNode(arr[i]);
//             option.appendChild(txt);
//             option.setAttribute("value",arr[i]);
//             select.insertBefore(option,select.lastChild);


        
// }

      
      ipcRenderer.on('dir:open', (event, arg) => {
        document.getElementById('dirOpen').click(function(){

        })
      });

      
      var sqlite3 = require('sqlite3').verbose();
      var db='';

      ipcRenderer.on('DataBase:Create', (event, arg) => {
        //var fs = require('fs');
        //fs.c('../databases');
        db= new sqlite3.Database(arg);
        var init=document.getElementById('dbName').innerHTML ;
        console.log(init);
        document.getElementById('dbName').innerHTML= init+arg;
        db.serialize(function () {
          //db.run("CREATE TABLE Teacher (`Id`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,`Name`	TEXT,`Initials`	TEXT)");
          db.run("CREATE TABLE Teacher(`Id`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,`Name`	TEXT NOT NULL,`Initials`	TEXT NOT NULL UNIQUE)");
          db.run("CREATE TABLE Subject (`Id`	INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE,`Name`	TEXT NOT NULL UNIQUE)");
        
        })
      });

      ipcRenderer.on('Teacher:Store',(event,teacher_name,teacher_initials) => {
        db.serialize(function () {
          db.run("INSERT INTO Teacher(`Name`,`Initials`) VALUES ( '"+teacher_name+"','"+teacher_initials+"')");
        })

        });

        ipcRenderer.on('Subject:Store',(event,Subject_name) => {
        db.serialize(function () {
          db.run("INSERT INTO Subject (`Name`) VALUES ( '"+Subject_name+"')");
        })

        });
        
        //db.serialize(function () {
        //db.run("CREATE TABLE lorem (info TEXT)");

        /*var stmt = db.prepare("INSERT INTO lorem VALUES (?)");
        for (var i = 0; i < 10; i++) {
          stmt.run("Ipsum " + i);
        }

        stmt.finalize();

        var rows = document.getElementById("database");
        db.each("SELECT rowid AS id, info FROM lorem", function (err, row) {
          var item = document.createElement("li");
          item.textContent = "" + row.id + ": " + row.info;
          rows.appendChild(item);
        });
      });

      db.close();
      });
      /*  var value =''
	    ipcRenderer.on('Database:add', (e,res) => {
		    value +=res;
	    });
	    console.log(value);
      */

      

      
    </script>

</body>

</html>
